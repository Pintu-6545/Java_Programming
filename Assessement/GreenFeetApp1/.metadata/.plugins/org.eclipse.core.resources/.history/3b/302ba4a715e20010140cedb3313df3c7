<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>

<%
    String did = request.getParameter("driver_id");

    if (did == null || did.isEmpty()) {
%>
        <h3 style="color:red">Driver ID missing. Please open from Driver list.</h3>
<%
        return;
    }

    int driver_id = Integer.parseInt(did);
%>

<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Add Vehicle</title>
</head>
<body>

<h2>Add Vehicle</h2>

<form method="post" action="VehiclesController">

    <!-- VERY IMPORTANT -->
    <input type="hidden" name="driver_id" value="<%=driver_id%>">

    <label>Number Plate:</label><br>
    <input type="text" name="number_plate" required><br><br>

    <label>Vehicle Type:</label><br>
    <select name="type" required>
        <option value="">--Select--</option>
        <option value="Car">Car</option>
        <option value="Bike">Bike</option>
        <option value="Truck">Truck</option>
    </select><br><br>

    <label>Insurance Expiry:</label><br>
    <input type="date" name="insurance_expiry" required><br><br>

    <button type="submit">Save Vehicle</button>
</form>

</body>
</html>
